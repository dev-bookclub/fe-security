## 라이브러리를 노린 보안 리스크

### 8.1 라이브러리의 사용

8.1.1 오픈소스 소프트웨어의 사용

- 현재 주류인 라이브러리나 프레임워크, 툴 등은 대부분 오픈소스 소프트웨어(OSS)로 개발되고 있다.
- OSS는 소스 코드가 공개되어 있으므로 누구나 소스를 읽을 수 있고, 라이선스에 따라 누구든지 이용, 변경, 버그의 수정이 가능한 소프트웨어이다.

  8.1.2 프런트엔드 라이브러리 상황

- 프런트엔드에 사용되는 많은 라이브러리가 OSS로 개발되었으며 대부분 CDN과 npmjs.com을 통해 배포된다.

1. CDN을 통해 배포되는 라이브러리
   1. 콘텐츠 전달 네트워크(CDN)는 웹 페이지의 리소스를 빠르고 효율적으로 전송하기 위한 서버를 제공하는 구조를 말한다.
   2. 전 세계에 서버를 두고 먼 곳에서 웹 애플리케이션을 개발하더라도 가까운 위치의 CDN 서버에서 콘텐츠를 가져올 수 있도록 하므로 웹 페이지의 표시 속도를 높일 수 있다.

### 8.2 라이브러리에 숨어 있는 보안 리스크

8.2.1 서드파티 라이브러리를 경유하는 공격

8.2.2 리뷰가 충분하지 않은 코드에 의한 취약성

8.2.3 계정 탈취에 의한 취약성

8.2.4 의존 관계 상속에 의한 취약성

- 웹 애플리케이션이 의존하는 라이브러리에는 보안 문제가 없더라도 이 라이브러리가 의존하는 다른 라이브러리의 업데이트가 멈추면 의존 관계에 있는 라이브러리는 보안 문제가 발생할 수 있다.

  8.2.5 CDN에서 콘텐츠 변조

  8.2.6 CDN에서 취약성을 갖는 버전의 라이브러리 가져오기

### 8.3 라이브러리 사용의 보안 대책

8.3.1 취약성을 확인하는 툴과 서비스 사용

1. 라이브러리의 알려진 취약점을 확인하는 커맨드라인 도구 사용
   1. npm은 npm audit이라는 커맨드를 제공한다. 프로젝트에서 npm audit을 실행하면 npm install로 로컬에 설치한 npm 패키지에 알려진 취약점이 포함된 버전의 포함 여부를 확인한다.
2. 정기적으로 라이브러리의 취약성을 확인하는 서비스 도입

8.3.2 유지보수가 꾸준히 이루어지는 라이브러리 사용하기

8.3.3 최신 버전의 라이브러리 사용하기

- 라이브러리의 취약점이 수정되더라도 수정된 버전보다 이전의 라이브러리를 계속 사용하고 있다면 애플리케이션은 계속 리스크에 노출된 상태가 된다.

  8.3.4 하위 자원 무결성을 통한 변조 확인하기

  8.3.5 CDN에서 불러오는 라이브러리의 버전 지정하기

### 결론

- 라이브러리는 개발 효율을 향상시키지만 공급망에 의한 위험도 동반한다.
- 공급망의 리스크를 이해하면서 라이브러리를 활용해야 한다.
- 취약성이 있는 라이브러리를 사용하지 않도록 도구를 사용해 정기적으로 확인한다.
- SRI 등을 사용해 변조된 라이브러리의 사용을 피할 수 있다.
